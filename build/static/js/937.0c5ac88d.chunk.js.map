{"version":3,"file":"static/js/937.0c5ac88d.chunk.js","mappings":"qQACMA,EAAW,+BACXC,EAAM,mCAEL,SAASC,IACd,OAAOC,IAAAA,IAAA,UAEAH,EAFA,uCAEuCC,EAFvC,gCAFI,IAMRG,MAAK,SAACC,GACL,OAAOA,EAASC,QAIf,SAASC,EAAkBC,GAChC,OAAOL,IAAAA,IAAA,UACGH,EADH,kBACqBQ,EADrB,oBACyCP,EADzC,oBAEJG,MAAK,SAACC,GACL,OAAOA,EAASC,QAIf,SAASG,EAAYD,GAC1B,OAAOL,IAAAA,IAAA,UACGH,EADH,kBACqBQ,EADrB,4BACiDP,EADjD,oBAEJG,MAAK,SAACC,GACL,OAAOA,EAASC,QAGf,SAASI,EAAYF,GAC1B,OAAOL,IAAAA,IAAA,UACGH,EADH,kBACqBQ,EADrB,4BACiDP,EADjD,oBAEJG,MAAK,SAACC,GACL,OAAOA,EAASC,QAIf,SAASK,EAAWC,GACzB,OAAOT,IAAAA,IAAA,UAEAH,EAFA,iCAEiCC,EAFjC,iCAE6DW,IAEjER,MAAK,SAACC,GACL,OAAOA,EAASC,U,uHCjChBO,GAAYC,EAAAA,EAAAA,OAAK,kBAAM,gCACvBC,GAAgBD,EAAAA,EAAAA,OAAK,kBAAM,gCAC3BE,GAAOF,EAAAA,EAAAA,OAAK,kBAAM,iCAClBG,GAAUH,EAAAA,EAAAA,OAAK,kBAAM,iCAmD3B,EAjDyB,WACvB,OAA0BI,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACAE,GAASC,EAAAA,EAAAA,MAATD,KACFE,GAAWC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,QAAOH,EAASI,OAA5BF,QACFG,GAAUC,EAAAA,EAAAA,MAahB,OAXAC,EAAAA,EAAAA,YAAU,YACRzB,EAAAA,EAAAA,IAAkBc,GACfjB,MAAK,SAACE,GACLc,EAASd,MAEV2B,OAAM,SAACC,GACNJ,EAAQK,KAAK,KACbC,QAAQC,KAAKH,QAEhB,CAACb,EAASS,KAGX,4BACE,mBAAQQ,QAAS,kBAAMR,EAAQK,KAAKR,EAAUA,EAAQY,KAAO,MAA7D,4BAGCpB,IACC,iCACE,UAAC,EAAAqB,SAAD,CAAUC,UAAU,uCAApB,WACE,SAAC5B,EAAD,CAAWM,MAAOA,KAClB,mBACA,mDACA,SAACJ,EAAD,CAAeM,QAASA,QAE1B,mBACA,SAAC,EAAAmB,SAAD,CAAUC,UAAU,uCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOlB,KAAI,UAAKA,EAAL,SAAX,UACE,SAACP,EAAD,OAEF,SAAC,KAAD,CAAOO,KAAI,UAAKA,EAAL,YAAX,UACE,SAACN,EAAD","sources":["services/Api.js","views/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from \"axios\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst KEY = \"62536649c4794eb812bab597e52cdce5\";\nconst page = 1;\nexport function fetchTrendingMovies() {\n  return axios\n    .get(\n      `${BASE_URL}/trending/movie/day?api_key=${KEY}&language=en-US&page=${page}`\n    )\n    .then((response) => {\n      return response.data;\n    });\n}\n\nexport function fetchDetailsMovie(moviesId) {\n  return axios\n    .get(`${BASE_URL}/movie/${moviesId}?api_key=${KEY}&language=en-US`)\n    .then((response) => {\n      return response.data;\n    });\n}\n\nexport function fetchActors(moviesId) {\n  return axios\n    .get(`${BASE_URL}/movie/${moviesId}/credits?api_key=${KEY}&language=en-US`)\n    .then((response) => {\n      return response.data;\n    });\n}\nexport function fetchReview(moviesId) {\n  return axios\n    .get(`${BASE_URL}/movie/${moviesId}/reviews?api_key=${KEY}&language=en-US`)\n    .then((response) => {\n      return response.data;\n    });\n}\n\nexport function fetchQuery(search) {\n  return axios\n    .get(\n      `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${search}`\n    )\n    .then((response) => {\n      return response.data;\n    });\n}\n","import { useState, useEffect, useRef, Suspense, lazy } from 'react';\nimport {\n  useParams,\n  Route,\n  useHistory,\n  useRouteMatch,\n  Switch,\n  useLocation,\n} from 'react-router-dom';\nimport { fetchDetailsMovie } from '../../services/Api';\nconst CardMovie = lazy(() => import('../../components/CardMovie'));\nconst SubNavigation = lazy(() => import('../../components/SubNavigation'));\nconst Cast = lazy(() => import('../Cast/Cast'));\nconst Reviews = lazy(() => import('../Reviews/Reviews'));\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const { path } = useRouteMatch();\n  const location = useLocation();\n  const { current } = useRef(location.state);\n  const history = useHistory();\n\n  useEffect(() => {\n    fetchDetailsMovie(movieId)\n      .then((data) => {\n        setMovie(data);\n      })\n      .catch((error) => {\n        history.push('/');\n        console.warn(error);\n      });\n  }, [movieId, history]);\n\n  return (\n    <div>\n      <button onClick={() => history.push(current ? current.from : '/')}>\n        &#8592; Go back\n      </button>\n      {movie && (\n        <>\n          <Suspense fallback={<h2>Loading...</h2>}>\n            <CardMovie movie={movie} />\n            <hr />\n            <p>Additional information</p>\n            <SubNavigation movieId={movieId} />\n          </Suspense>\n          <hr />\n          <Suspense fallback={<h2>Loading...</h2>}>\n            <Switch>\n              <Route path={`${path}/cast`}>\n                <Cast />\n              </Route>\n              <Route path={`${path}/reviews`}>\n                <Reviews />\n              </Route>\n            </Switch>\n          </Suspense>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["BASE_URL","KEY","fetchTrendingMovies","axios","then","response","data","fetchDetailsMovie","moviesId","fetchActors","fetchReview","fetchQuery","search","CardMovie","lazy","SubNavigation","Cast","Reviews","useState","movie","setMovie","movieId","useParams","path","useRouteMatch","location","useLocation","current","useRef","state","history","useHistory","useEffect","catch","error","push","console","warn","onClick","from","Suspense","fallback"],"sourceRoot":""}